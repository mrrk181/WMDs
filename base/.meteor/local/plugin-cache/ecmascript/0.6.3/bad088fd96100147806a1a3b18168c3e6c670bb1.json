{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/modules/reset-password.js","filenameRelative":"/imports/modules/reset-password.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/modules/reset-password.js.map","sourceFileName":"/imports/modules/reset-password.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"reset-password"},"ignored":false,"code":"module.export({\n  \"default\": function () {\n    return handleResetPassword;\n  }\n});\nvar browserHistory = void 0;\nmodule.import('react-router', {\n  \"browserHistory\": function (v) {\n    browserHistory = v;\n  }\n}, 0);\nvar Accounts = void 0;\nmodule.import('meteor/accounts-base', {\n  \"Accounts\": function (v) {\n    Accounts = v;\n  }\n}, 1);\nvar Bert = void 0;\nmodule.import('meteor/themeteorchef:bert', {\n  \"Bert\": function (v) {\n    Bert = v;\n  }\n}, 2);\nmodule.import('./validation.js');\nvar component = void 0;\nvar token = void 0;\n\nvar handleReset = function () {\n  var password = document.querySelector('[name=\"newPassword\"]').value;\n  Accounts.resetPassword(token, password, function (error) {\n    if (error) {\n      Bert.alert(error.reason, 'danger');\n    } else {\n      browserHistory.push('/');\n      Bert.alert('Password reset!', 'success');\n    }\n  });\n};\n\nvar validate = function () {\n  $(component.resetPasswordForm).validate({\n    rules: {\n      newPassword: {\n        required: true,\n        minlength: 6\n      },\n      repeatNewPassword: {\n        required: true,\n        minlength: 6,\n        equalTo: '[name=\"newPassword\"]'\n      }\n    },\n    messages: {\n      newPassword: {\n        required: 'Enter a new password, please.',\n        minlength: 'Use at least six characters, please.'\n      },\n      repeatNewPassword: {\n        required: 'Repeat your new password, please.',\n        equalTo: 'Hmm, your passwords don\\'t match. Try again?'\n      }\n    },\n    submitHandler: function () {\n      handleReset();\n    }\n  });\n};\n\nfunction handleResetPassword(options) {\n  component = options.component;\n  token = options.token;\n  validate();\n}","ast":null,"map":{"version":3,"sources":["/imports/modules/reset-password.js"],"names":["module","export","handleResetPassword","browserHistory","import","v","Accounts","Bert","component","token","handleReset","password","document","querySelector","value","resetPassword","error","alert","reason","push","validate","$","resetPasswordForm","rules","newPassword","required","minlength","repeatNewPassword","equalTo","messages","submitHandler","options"],"mappings":"AAAAA,OAAOC,MAAP,CAAc;AAAC,aAAQ,YAAU;AAAC,WAAOC,mBAAP;AAA2B;AAA/C,CAAd;AAAgE,IAAIC,uBAAJ;AAAmBH,OAAOI,MAAP,CAAc,cAAd,EAA6B;AAAC,oBAAiB,UAASC,CAAT,EAAW;AAACF,qBAAeE,CAAf;AAAiB;AAA/C,CAA7B,EAA8E,CAA9E;AAAiF,IAAIC,iBAAJ;AAAaN,OAAOI,MAAP,CAAc,sBAAd,EAAqC;AAAC,cAAW,UAASC,CAAT,EAAW;AAACC,eAASD,CAAT;AAAW;AAAnC,CAArC,EAA0E,CAA1E;AAA6E,IAAIE,aAAJ;AAASP,OAAOI,MAAP,CAAc,2BAAd,EAA0C;AAAC,UAAO,UAASC,CAAT,EAAW;AAACE,WAAKF,CAAL;AAAO;AAA3B,CAA1C,EAAuE,CAAvE;AAA0EL,OAAOI,MAAP,CAAc,iBAAd;AAOjV,IAAII,kBAAJ;AACA,IAAIC,cAAJ;;AAEA,IAAMC,cAAc,YAAM;AACxB,MAAMC,WAAWC,SAASC,aAAT,CAAuB,sBAAvB,EAA+CC,KAAhE;AACAR,WAASS,aAAT,CAAuBN,KAAvB,EAA8BE,QAA9B,EAAwC,UAACK,KAAD,EAAW;AACjD,QAAIA,KAAJ,EAAW;AACTT,WAAKU,KAAL,CAAWD,MAAME,MAAjB,EAAyB,QAAzB;AACD,KAFD,MAEO;AACLf,qBAAegB,IAAf,CAAoB,GAApB;AACAZ,WAAKU,KAAL,CAAW,iBAAX,EAA8B,SAA9B;AACD;AACF,GAPD;AAQD,CAVD;;AAYA,IAAMG,WAAW,YAAM;AACrBC,IAAEb,UAAUc,iBAAZ,EAA+BF,QAA/B,CAAwC;AACtCG,WAAO;AACLC,mBAAa;AACXC,kBAAU,IADC;AAEXC,mBAAW;AAFA,OADR;AAKLC,yBAAmB;AACjBF,kBAAU,IADO;AAEjBC,mBAAW,CAFM;AAGjBE,iBAAS;AAHQ;AALd,KAD+B;AAYtCC,cAAU;AACRL,mBAAa;AACXC,kBAAU,+BADC;AAEXC,mBAAW;AAFA,OADL;AAKRC,yBAAmB;AACjBF,kBAAU,mCADO;AAEjBG,iBAAS;AAFQ;AALX,KAZ4B;AAsBtCE,iBAtBsC,cAsBtB;AAAEpB;AAAgB;AAtBI,GAAxC;AAwBD,CAzBD;;AA2Be,SAASR,mBAAT,CAA6B6B,OAA7B,EAAsC;AACnDvB,cAAYuB,QAAQvB,SAApB;AACAC,UAAQsB,QAAQtB,KAAhB;AACAW;AACD","file":"/imports/modules/reset-password.js.map","sourcesContent":["/* eslint-disable no-undef */\n\nimport { browserHistory } from 'react-router';\nimport { Accounts } from 'meteor/accounts-base';\nimport { Bert } from 'meteor/themeteorchef:bert';\nimport './validation.js';\n\nlet component;\nlet token;\n\nconst handleReset = () => {\n  const password = document.querySelector('[name=\"newPassword\"]').value;\n  Accounts.resetPassword(token, password, (error) => {\n    if (error) {\n      Bert.alert(error.reason, 'danger');\n    } else {\n      browserHistory.push('/');\n      Bert.alert('Password reset!', 'success');\n    }\n  });\n};\n\nconst validate = () => {\n  $(component.resetPasswordForm).validate({\n    rules: {\n      newPassword: {\n        required: true,\n        minlength: 6,\n      },\n      repeatNewPassword: {\n        required: true,\n        minlength: 6,\n        equalTo: '[name=\"newPassword\"]',\n      },\n    },\n    messages: {\n      newPassword: {\n        required: 'Enter a new password, please.',\n        minlength: 'Use at least six characters, please.',\n      },\n      repeatNewPassword: {\n        required: 'Repeat your new password, please.',\n        equalTo: 'Hmm, your passwords don\\'t match. Try again?',\n      },\n    },\n    submitHandler() { handleReset(); },\n  });\n};\n\nexport default function handleResetPassword(options) {\n  component = options.component;\n  token = options.token;\n  validate();\n}\n"]},"hash":"bad088fd96100147806a1a3b18168c3e6c670bb1"}
